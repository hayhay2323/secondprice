(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[26],{1075:function(e,t,s){(window.__NEXT_P=window.__NEXT_P||[]).push(["/dashboard",function(){return s(8910)}])},8910:function(e,t,s){"use strict";s.r(t),s.d(t,{default:function(){return Dashboard}});var r=s(5893),a=s(7294),i=s(3495),n=s(1163),c=s(9008),l=s.n(c),d=s(1664),o=s.n(d),x=s(6266),m=s(1977),h=s(33);function Dashboard(){let{currentUser:e}=(0,x.a)(),t=(0,n.useRouter)(),[s,c]=(0,a.useState)([{id:1,type:"search",content:"iPhone 12",timestamp:new Date(Date.now()-72e5).toISOString()},{id:2,type:"view",content:"MacBook Pro 2019",timestamp:new Date(Date.now()-864e5).toISOString()},{id:3,type:"favorite",content:"Sony WH-1000XM4 耳機",timestamp:new Date(Date.now()-1728e5).toISOString()}]),[d,p]=(0,a.useState)([{id:1,name:"iPhone 13 Pro Max",currentPrice:4580,initialPrice:5200,priceChange:-620,changePercentage:-11.9,image:"https://images.unsplash.com/photo-1632661674596-df8be070a5c5?w=150"},{id:2,name:"iPad Pro 11吋 (2021)",currentPrice:3400,initialPrice:3400,priceChange:0,changePercentage:0,image:"https://images.unsplash.com/photo-1544244015-0df4b3ffc6b0?w=150"}]);if((0,a.useEffect)(()=>{e||t.push("/login?redirect=dashboard")},[e,t]),!e)return null;let formatDate=e=>{let t=new Date(e),s=new Date,r=Math.round((s-t)/36e5);return r<24?"".concat(r,"小時前"):"".concat(Math.round(r/24),"天前")},getActivityIcon=e=>{switch(e){case"search":return(0,r.jsx)("div",{className:"w-8 h-8 bg-blue-100 rounded-full flex items-center justify-center text-blue-500",children:(0,r.jsx)("svg",{xmlns:"http://www.w3.org/2000/svg",className:"h-4 w-4",fill:"none",viewBox:"0 0 24 24",stroke:"currentColor",children:(0,r.jsx)("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M21 21l-6-6m2-5a7 7 0 11-14 0 7 7 0 0114 0z"})})});case"view":return(0,r.jsx)("div",{className:"w-8 h-8 bg-green-100 rounded-full flex items-center justify-center text-green-500",children:(0,r.jsxs)("svg",{xmlns:"http://www.w3.org/2000/svg",className:"h-4 w-4",fill:"none",viewBox:"0 0 24 24",stroke:"currentColor",children:[(0,r.jsx)("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M15 12a3 3 0 11-6 0 3 3 0 016 0z"}),(0,r.jsx)("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M2.458 12C3.732 7.943 7.523 5 12 5c4.478 0 8.268 2.943 9.542 7-1.274 4.057-5.064 7-9.542 7-4.477 0-8.268-2.943-9.542-7z"})]})});case"favorite":return(0,r.jsx)("div",{className:"w-8 h-8 bg-red-100 rounded-full flex items-center justify-center text-red-500",children:(0,r.jsx)("svg",{xmlns:"http://www.w3.org/2000/svg",className:"h-4 w-4",fill:"none",viewBox:"0 0 24 24",stroke:"currentColor",children:(0,r.jsx)("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M4.318 6.318a4.5 4.5 0 000 6.364L12 20.364l7.682-7.682a4.5 4.5 0 00-6.364-6.364L12 7.636l-1.318-1.318a4.5 4.5 0 00-6.364 0z"})})});default:return null}};return(0,r.jsxs)("div",{className:"min-h-screen flex flex-col bg-gray-50",children:[(0,r.jsx)(l(),{children:(0,r.jsx)("title",{children:"儀表板 | SecondPrice.hk"})}),(0,r.jsx)(m.Z,{}),(0,r.jsxs)("main",{className:"flex-grow container mx-auto px-4 py-20 max-w-6xl",children:[(0,r.jsxs)(i.E.div,{initial:{opacity:0,y:20},animate:{opacity:1,y:0},transition:{duration:.5},className:"mb-8",children:[(0,r.jsxs)("h1",{className:"text-3xl font-bold text-gray-800",children:["歡迎，",e.name,"！"]}),(0,r.jsx)("p",{className:"text-gray-600 mt-1",children:"這是您的個人儀表板，查看最新活動和您關注的商品"})]}),(0,r.jsxs)("div",{className:"grid grid-cols-1 lg:grid-cols-3 gap-8",children:[(0,r.jsx)(i.E.div,{initial:{opacity:0,y:20},animate:{opacity:1,y:0},transition:{duration:.5,delay:.1},className:"lg:col-span-2",children:(0,r.jsxs)("div",{className:"bg-white rounded-2xl shadow-md overflow-hidden",children:[(0,r.jsx)("div",{className:"px-6 py-5 border-b border-gray-100",children:(0,r.jsx)("h2",{className:"text-xl font-bold text-gray-800",children:"最近活動"})}),(0,r.jsx)("div",{className:"divide-y divide-gray-100",children:s.length>0?s.map(e=>(0,r.jsxs)("div",{className:"px-6 py-4 flex items-center",children:[getActivityIcon(e.type),(0,r.jsxs)("div",{className:"ml-4 flex-grow",children:[(0,r.jsxs)("p",{className:"text-sm text-gray-600",children:["search"===e.type&&"您搜尋了","view"===e.type&&"您瀏覽了","favorite"===e.type&&"您收藏了"]}),(0,r.jsx)("p",{className:"font-medium",children:e.content})]}),(0,r.jsx)("div",{className:"text-sm text-gray-500",children:formatDate(e.timestamp)})]},e.id)):(0,r.jsx)("div",{className:"px-6 py-8 text-center text-gray-500",children:"暫無活動記錄"})}),(0,r.jsx)("div",{className:"bg-gray-50 px-6 py-3 text-center",children:(0,r.jsx)(o(),{href:"/activities",className:"text-primary-600 text-sm font-medium hover:text-primary-700",children:"查看所有活動"})})]})}),(0,r.jsxs)(i.E.div,{initial:{opacity:0,y:20},animate:{opacity:1,y:0},transition:{duration:.5,delay:.2},children:[(0,r.jsxs)("div",{className:"bg-white rounded-2xl shadow-md p-6 mb-6",children:[(0,r.jsxs)("div",{className:"flex items-center mb-4",children:[(0,r.jsx)("div",{className:"w-16 h-16 bg-gradient-to-r from-primary-500 to-secondary-500 rounded-full flex items-center justify-center text-white text-2xl font-bold",children:e.name?e.name.charAt(0).toUpperCase():"U"}),(0,r.jsxs)("div",{className:"ml-4",children:[(0,r.jsx)("h3",{className:"font-medium text-lg",children:e.name}),(0,r.jsx)("p",{className:"text-gray-500 text-sm",children:e.email})]})]}),(0,r.jsx)("div",{className:"border-t border-gray-100 pt-4",children:(0,r.jsx)(o(),{href:"/profile",children:(0,r.jsx)(i.E.button,{whileHover:{y:-2},whileTap:{scale:.98},className:"w-full py-2 text-primary-600 border border-primary-500 rounded-lg text-sm font-medium hover:bg-primary-50 transition-colors",children:"編輯個人資料"})})})]}),(0,r.jsxs)("div",{className:"bg-white rounded-2xl shadow-md overflow-hidden",children:[(0,r.jsx)("div",{className:"px-6 py-5 border-b border-gray-100",children:(0,r.jsx)("h2",{className:"text-xl font-bold text-gray-800",children:"價格追蹤"})}),(0,r.jsx)("div",{className:"divide-y divide-gray-100",children:d.length>0?d.map(e=>(0,r.jsxs)("div",{className:"px-6 py-4",children:[(0,r.jsxs)("div",{className:"flex items-center mb-2",children:[(0,r.jsx)("div",{className:"w-10 h-10 rounded-md bg-gray-100 overflow-hidden",children:(0,r.jsx)("img",{src:e.image,alt:e.name,className:"w-full h-full object-cover"})}),(0,r.jsx)("div",{className:"ml-3 flex-grow",children:(0,r.jsx)("p",{className:"font-medium text-gray-800 truncate",children:e.name})})]}),(0,r.jsxs)("div",{className:"flex justify-between items-center mt-2",children:[(0,r.jsxs)("div",{children:[(0,r.jsxs)("p",{className:"text-lg font-bold",children:["$",e.currentPrice]}),(0,r.jsxs)("p",{className:"text-xs text-gray-500",children:["初始價格: $",e.initialPrice]})]}),(0,r.jsx)("div",{className:"text-sm font-medium ".concat(e.priceChange<0?"text-green-600":e.priceChange>0?"text-red-600":"text-gray-600"),children:0!==e.priceChange?(0,r.jsxs)(r.Fragment,{children:[e.priceChange<0?"↓":"↑"," $",Math.abs(e.priceChange)," (",Math.abs(e.changePercentage),"%)"]}):"持平"})]})]},e.id)):(0,r.jsx)("div",{className:"px-6 py-8 text-center text-gray-500",children:"暫無價格追蹤"})}),(0,r.jsx)("div",{className:"bg-gray-50 px-6 py-3 text-center",children:(0,r.jsx)(o(),{href:"/price-tracking",className:"text-primary-600 text-sm font-medium hover:text-primary-700",children:"查看全部追蹤"})})]})]})]})]}),(0,r.jsx)(h.Z,{})]})}}},function(e){e.O(0,[286,202,774,888,179],function(){return e(e.s=1075)}),_N_E=e.O()}]);